<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>料金シミュレーター※試作※</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: auto; }
    .tab-buttons button { margin: 5px; padding: 10px; cursor: pointer; }
    .tab-content { display: none; margin-top: 20px; }
    .tab-content.active { display: block; }
    label, select, input, button { display: block; margin: 10px 0; width: 100%; max-width: 400px; }
    .result { font-size: 1.2em; font-weight: bold; margin-top: 20px; }
  </style>
</head>
<body>
  <h1>料金シミュレーター※試作※</h1>

  <div class="tab-buttons">
    <button onclick="showTab('tax-advisor')">税理士 顧問料</button>
    <button onclick="showTab('tax-spot')">税理士 スポット</button>
    <button onclick="showTab('sr-advisor')">社労士 顧問料</button>
    <button onclick="showTab('sr-spot')">社労士 スポット</button>
  </div>

  <!-- 税理士 顧問料 -->
  <div id="tax-advisor" class="tab-content">
    <label for="entityType">事業形態</label>
    <select id="entityType">
      <option value="corporate">法人</option>
      <option value="individual">個人</option>
    </select>

    <label for="revenue">売上規模</label>
    <select id="revenue">
      <option value="10000">1000万未満</option>
      <option value="15000">1000万～3000万</option>
      <option value="18000">3000万～5000万</option>
      <option value="22000">5000万～8000万</option>
      <option value="25000">8000万～1億</option>
      <option value="30000">1億～3億</option>
      <option value="35000">3億～5億</option>
      <option value="40000">5億～10億</option>
      <option value="50000">10億以上</option>
    </select>

    <label for="bookkeeping">記帳代行</label>
    <select id="bookkeeping">
      <option value="0">なし</option>
      <option value="50">50枚</option>
      <option value="100">100枚</option>
      <option value="150">150枚</option>
      <option value="200">200枚</option>
      <option value="250">250枚</option>
      <option value="300">300枚</option>
      <option value="350">350枚</option>
      <option value="400">400枚</option>
      <option value="450">450枚</option>
      <option value="500">500枚</option>
    </select>

    <label for="visit">訪問頻度</label>
    <select id="visit">
      <option value="0">訪問なし</option>
      <option value="1000">年1回</option>
      <option value="2000">半年に1回</option>
      <option value="3000">3ヶ月に1回</option>
      <option value="5000">毎月</option>
    </select>

    <label for="industry">業種</label>
    <select id="industry">
      <option value="0">一般企業（その他）</option>
      <option value="2000">農業・建設業等（追加料あり）</option>
    </select>

    <label for="employees">従業員数</label>
    <select id="employees">
      <option value="0">0人</option>
      <option value="2000">1～4人</option>
      <option value="4000">5～10人</option>
      <option value="6000">11人以上</option>
    </select>

    <button onclick="calculateFee()">料金を計算する</button>
    <div class="result" id="monthlyFee"></div>
    <div class="result" id="settlementFee"></div>
    <div class="result" id="totalAnnualFee"></div>
  </div>

  <!-- 税理士 スポット -->
  <div id="tax-spot" class="tab-content">
    <label for="taxSpotEntity">事業形態</label>
    <select id="taxSpotEntity">
      <option value="corporate">法人</option>
      <option value="individual">個人</option>
    </select>

    <label for="taxSpotRevenue">年商</label>
    <select id="taxSpotRevenue">
      <option value="1">1000万未満</option>
      <option value="2">1000万〜3000万</option>
      <option value="3">3000万〜5000万</option>
      <option value="4">5000万〜1億</option>
      <option value="5">1億以上</option>
    </select>

    <label for="taxSpotSelect">業務内容を選択してください（複数可）</label>
    <select id="taxSpotSelect" multiple size="10">
      <option value="80000" data-type="申告">決算申告（80,000円）</option>
      <option value="40000" data-type="申告">修正申告（40,000円）</option>
      <option value="60000" data-type="調査">税務調査対応（60,000円）</option>
      <option value="30000" data-type="申告">消費税申告（30,000円）</option>
      <option value="50000" data-type="その他">開業書類作成（50,000円）</option>
    </select>

    <button onclick="calculateTaxSpot()">料金を計算する</button>
    <div class="result" id="taxSpotResult"></div>
  </div>

  <!-- 社労士 顧問料 -->
  <div id="sr-advisor" class="tab-content">
    <label for="srEmployees">従業員数</label>
    <select id="srEmployees">
      <option value="15000">1～4人</option>
      <option value="20000">5～10人</option>
      <option value="25000">11～30人</option>
      <option value="30000">31人以上</option>
    </select>

    <label for="srSalary">給与計算</label>
    <select id="srSalary">
      <option value="0">なし</option>
      <option value="5000">あり（追加¥5,000）</option>
    </select>

    <button onclick="calculateSrAdvisor()">料金を計算する</button>
    <div class="result" id="srAdvisorResult"></div>
  </div>

  <!-- 社労士 スポット -->
  <div id="sr-spot" class="tab-content">
    <label for="srSpotSelect">業務内容を選択してください（複数可）</label>
    <select id="srSpotSelect" multiple size="10">
      <option value="50000">就業規則作成（50,000円）</option>
      <option value="20000">36協定作成（20,000円）</option>
      <option value="30000">労基署対応（30,000円）</option>
      <option value="40000">助成金申請支援（40,000円）</option>
      <option value="50000">解雇・懲戒トラブル対応（50,000円）</option>
    </select>

    <button onclick="calculateSrSpot()">料金を計算する</button>
    <div class="result" id="srSpotResult"></div>
  </div>

  <script>
    function showTab(id) {
      document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function calculateFee() {
      const entityType = document.getElementById('entityType').value;
      const revenue = parseInt(document.getElementById('revenue').value, 10);
      const entries = parseInt(document.getElementById('bookkeeping').value, 10);
      const bookkeeping = entries * 50;
      const visit = parseInt(document.getElementById('visit').value, 10);
      const industry = parseInt(document.getElementById('industry').value, 10);
      const employees = parseInt(document.getElementById('employees').value, 10);
      let base = revenue;
      let monthly = base + bookkeeping + visit + industry + employees;
      if (entityType === 'individual') monthly = Math.max(Math.floor(monthly * 0.7), 10000);
      document.getElementById('monthlyFee').innerText = `月額顧問料：¥${monthly.toLocaleString()}`;
      const settlement = monthly * 4;
      document.getElementById('settlementFee').innerText = `決算料(4ヶ月)：¥${settlement.toLocaleString()}`;
      document.getElementById('totalAnnualFee').innerText = `年間合計：¥${(monthly * 12 + settlement).toLocaleString()}`;
    }

    function calculateTaxSpot() {
      const entity = document.getElementById('taxSpotEntity').value;
      const revenue = parseInt(document.getElementById('taxSpotRevenue').value, 10);
      const select = document.getElementById('taxSpotSelect');
      let sum = 0;

      for (let opt of select.selectedOptions) {
        const base = parseInt(opt.value, 10);
        const type = opt.getAttribute("data-type");
        if (type === "申告") {
          let multiplier = 1;
          if (revenue === 4) multiplier = 1.1;
          else if (revenue === 5) multiplier = 1.2;
          sum += Math.floor(base * multiplier);
        } else {
          sum += base;
        }
      }

      if (entity === "individual") {
        sum = Math.max(sum - 5000, 0);
      }

      document.getElementById('taxSpotResult').innerText = `合計スポット料金：¥${sum.toLocaleString()}`;
    }

    function calculateSrAdvisor() {
      const base = parseInt(document.getElementById('srEmployees').value, 10);
      const sal = parseInt(document.getElementById('srSalary').value, 10);
      document.getElementById('srAdvisorResult').innerText = `月額顧問料：¥${(base + sal).toLocaleString()}`;
    }

    function calculateSrSpot() {
      let sum = 0;
      for (let opt of document.getElementById('srSpotSelect').selectedOptions) {
        sum += parseInt(opt.value, 10);
      }
      document.getElementById('srSpotResult').innerText = `合計スポット料金：¥${sum.toLocaleString()}`;
    }

    showTab('tax-advisor');
  </script>
</body>
</html>
